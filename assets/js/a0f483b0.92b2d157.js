"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[59],{817:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"GeneralSettings/iap","title":"IAP (In App Purchase)","description":"A guide to setting up In-App Purchases for App Store and Play Console","source":"@site/docs/GeneralSettings/iap.md","sourceDirName":"GeneralSettings","slug":"/GeneralSettings/iap","permalink":"/common_app_doc/GeneralSettings/iap","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"IAP","permalink":"/common_app_doc/tags/iap"},{"inline":true,"label":"In-App Purchase","permalink":"/common_app_doc/tags/in-app-purchase"},{"inline":true,"label":"Play Console","permalink":"/common_app_doc/tags/play-console"},{"inline":true,"label":"App Store","permalink":"/common_app_doc/tags/app-store"}],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"description":"A guide to setting up In-App Purchases for App Store and Play Console","tags":["IAP","In-App Purchase","Play Console","App Store"]},"sidebar":"generalSidebar","previous":{"title":"General Settings","permalink":"/common_app_doc/category/general-settings"},"next":{"title":"Advertisement","permalink":"/common_app_doc/GeneralSettings/advertisement"}}');var r=s(4848),i=s(8453);const o={sidebar_position:1,description:"A guide to setting up In-App Purchases for App Store and Play Console",tags:["IAP","In-App Purchase","Play Console","App Store"]},l="IAP (In App Purchase)",a={},c=[{value:"Overview",id:"overview",level:2},{value:"IAP Types with Examples",id:"iap-types-with-examples",level:2},{value:"Consumable IAP",id:"consumable-iap",level:3},{value:"Non-Consumable IAP",id:"non-consumable-iap",level:3},{value:"App Store",id:"app-store",level:2},{value:"Check Your Agreements",id:"check-your-agreements",level:3},{value:"Create IAP Products in App Store Connect",id:"create-iap-products-in-app-store-connect",level:3},{value:"Google Play Console",id:"google-play-console",level:2},{value:"Check Availability",id:"check-availability",level:3},{value:"Create in-app products",id:"create-in-app-products",level:3},{value:"Test Purchase IAP",id:"test-purchase-iap",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"App Store Issues",id:"app-store-issues",level:3},{value:"Google Play Issues",id:"google-play-issues",level:3},{value:"References",id:"references",level:2}];function p(e){const n={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"iap-in-app-purchase",children:"IAP (In App Purchase)"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This guide walks you through the steps to create and setup IAP for App Store and Play Console."}),"\n",(0,r.jsx)(n.h2,{id:"iap-types-with-examples",children:"IAP Types with Examples"}),"\n",(0,r.jsx)(n.h3,{id:"consumable-iap",children:"Consumable IAP"}),"\n",(0,r.jsx)(n.p,{children:"Consumable IAPs are one-time use items that can be purchased repeatedly:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Example"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Use Case"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"In-game currency"}),(0,r.jsx)(n.td,{children:"Coins, gems, or tokens"}),(0,r.jsx)(n.td,{children:"Players can buy 100 coins multiple times"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Power-ups"}),(0,r.jsx)(n.td,{children:"Temporary boosts or abilities"}),(0,r.jsx)(n.td,{children:"Energy refills that are consumed when used"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Extra lives"}),(0,r.jsx)(n.td,{children:"Additional attempts in a game"}),(0,r.jsx)(n.td,{children:"Players can purchase 5 extra lives when they run out"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"non-consumable-iap",children:"Non-Consumable IAP"}),"\n",(0,r.jsx)(n.p,{children:"Non-consumable IAPs are permanent features or content that users purchase once:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Example"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Use Case"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Premium features"}),(0,r.jsx)(n.td,{children:"Unlock advanced functionality"}),(0,r.jsx)(n.td,{children:"Remove ads permanently"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Content unlock"}),(0,r.jsx)(n.td,{children:"Access to additional content"}),(0,r.jsx)(n.td,{children:"Unlock a new game level or chapter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Premium themes"}),(0,r.jsx)(n.td,{children:"Visual customizations"}),(0,r.jsx)(n.td,{children:"Purchase a dark mode theme"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"First we will start with App Store."}),"\n",(0,r.jsx)(n.h2,{id:"app-store",children:"App Store"}),"\n",(0,r.jsx)(n.h3,{id:"check-your-agreements",children:"Check Your Agreements"}),"\n",(0,r.jsx)(n.p,{children:"Before creating IAP and offering them in your app, you must do two things:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Sign the ",(0,r.jsx)(n.strong,{children:"Paid Applications Agreement"})," and set up your ",(0,r.jsx)(n.a,{href:"https://developer.apple.com/help/app-store-connect/get-started/app-store-connect-workflow",children:"banking and tax information"})," in App Store Connect."]}),"\n",(0,r.jsxs)(n.li,{children:["Make sure you have accepted the latest ",(0,r.jsx)(n.strong,{children:"Apple Development Program License Agreement"})," on ",(0,r.jsx)(n.a,{href:"https://developer.apple.com/membercenter/index.action",children:"developer.apple.com"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If you have not done this, usually App Store Connect gives you a warning like the following:"}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"/img/iap/app_store_warning.png",alt:"App Store Warning",style:{borderRadius:"8px"}})}),"\n",(0,r.jsx)(n.p,{children:"If you see something like the above, follow the steps to accept the appropriate agreements."}),"\n",(0,r.jsxs)(n.p,{children:["It\u2019s also good to double-check the ",(0,r.jsx)(n.a,{href:"https://appstoreconnect.apple.com/agreements/#/",children:"Agreements, Tax, and Banking"})," section in App Store Connect:"]}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"/img/iap/app_store_agreements.png",alt:"App Store Agreements",style:{borderRadius:"8px"}})}),"\n",(0,r.jsxs)(n.p,{children:["If you see a section entitled ",(0,r.jsx)(n.strong,{children:"Request Contracts"})," containing a row for ",(0,r.jsx)(n.strong,{children:"Paid Applications"}),", then click the ",(0,r.jsx)(n.strong,{children:"Request"})," button. Fill out all the necessary information and submit it. It may take some time for your request to be approved."]}),"\n",(0,r.jsxs)(n.p,{children:["Otherwise, if you see ",(0,r.jsx)(n.strong,{children:"Paid Applications"})," listed under ",(0,r.jsx)(n.strong,{children:"Contracts In Effect"}),", it looks like you've already done this step! Good job!"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Apple can take a few days to approve these IAP-related agreements after you submit them. During this time, you won't be able to display IAP products in your apps even if you implement everything correctly in the code. It is a common source of frustration for folks implementing IAP for the first time."})}),"\n",(0,r.jsx)(n.h3,{id:"create-iap-products-in-app-store-connect",children:"Create IAP Products in App Store Connect"}),"\n",(0,r.jsx)(n.p,{children:"We'll create the IAP that your app will offer."}),"\n",(0,r.jsxs)(n.p,{children:["Go to In app purchases section in App Store Connect and click on ",(0,r.jsx)(n.strong,{children:"Add new product"})," or + (plus) button in the top as shown in the image."]}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"/img/iap/app_store_create_iap_1.webp",alt:"App Store IAP Page",style:{borderRadius:"8px"}})}),"\n",(0,r.jsxs)(n.p,{children:["For ",(0,r.jsx)(n.strong,{children:"Type"})," select ",(0,r.jsx)(n.strong,{children:"Consumable"})," or ",(0,r.jsx)(n.strong,{children:"Non-Consumable"})," as shown in the image."]}),"\n",(0,r.jsxs)(n.p,{children:["For ",(0,r.jsx)(n.strong,{children:"Reference Name"})," enter a unique name for your IAP."]}),"\n",(0,r.jsxs)(n.p,{children:["For ",(0,r.jsx)(n.strong,{children:"Product ID"})," enter a unique alphanumeric identifier. This identifier must be unique across all IAP products in your app as well as across all your apps in the App Store."]}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"/img/iap/app_store_create_iap_2.webp",alt:"App Store Create IAP",style:{borderRadius:"8px"}})}),"\n",(0,r.jsxs)(n.p,{children:["Then click on ",(0,r.jsx)(n.strong,{children:"Create"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Fill in ",(0,r.jsx)(n.strong,{children:"Availability"}),", ",(0,r.jsx)(n.strong,{children:"Price Schedule"})]}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"/img/iap/app_store_create_iap_3.webp",alt:"App Store Create IAP",style:{borderRadius:"8px"}})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"App Store Localization"})," and ",(0,r.jsx)(n.strong,{children:"Review Information"})]}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"/img/iap/app_store_create_iap_4.webp",alt:"App Store Create IAP",style:{borderRadius:"8px"}})}),"\n",(0,r.jsxs)(n.p,{children:["Click on ",(0,r.jsx)(n.strong,{children:"Save"})," once done."]}),"\n",(0,r.jsxs)(n.p,{children:["Going back to the In App Purchases page, you should see your IAP listed with ",(0,r.jsx)(n.strong,{children:"Ready to Submit"})," status."]}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"/img/iap/app_store_create_iap_5.webp",alt:"App Store IAP List",style:{borderRadius:"8px"}})}),"\n",(0,r.jsxs)(n.p,{children:["After that go to ",(0,r.jsx)(n.strong,{children:"App Submission"})," page and scroll down to ",(0,r.jsx)(n.strong,{children:"In-App Purchases and Subscriptions"})," section."]}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"/img/iap/app_store_create_iap_6.webp",alt:"App Store Edit IAP",style:{borderRadius:"8px"}})}),"\n",(0,r.jsxs)(n.p,{children:["And click ",(0,r.jsx)(n.strong,{children:"Edit"}),", then select the IAP you just created. Click ",(0,r.jsx)(n.strong,{children:"Done"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"That's it! \ud83c\udf8a You have successfully created IAP in App Store Connect. You can check and test the IAP with TestFlight, and make sure it works as expected. Then submit the app for review."}),"\n",(0,r.jsx)(n.h2,{id:"google-play-console",children:"Google Play Console"}),"\n",(0,r.jsx)(n.h3,{id:"check-availability",children:"Check Availability"}),"\n",(0,r.jsxs)(n.p,{children:["Make sure your region is ",(0,r.jsx)(n.a,{href:"https://support.google.com/googleplay/android-developer/table/3539140?sjid=610180390238451424-NC",children:"supported location for merchant registration"}),", if it is then you can use Google Play's billing system."]}),"\n",(0,r.jsxs)(n.p,{children:["Next ",(0,r.jsx)(n.a,{href:"https://support.google.com/googleplay/android-developer/answer/7161426?sjid=610180390238451424-NC",children:"Setup the payments profile"})," in Google Play Console."]}),"\n",(0,r.jsx)(n.h3,{id:"create-in-app-products",children:"Create in-app products"}),"\n",(0,r.jsx)(n.p,{children:"To create an in-app product, do the following steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open Play Console."}),"\n",(0,r.jsxs)(n.li,{children:["Go to the ",(0,r.jsx)(n.a,{href:"https://play.google.com/console/developers/app/managed-products",children:"In-app products"})," page (",(0,r.jsx)(n.strong,{children:"Monetize with Play > Products > In-app products"}),"). Click ",(0,r.jsx)(n.strong,{children:"Create product"}),"."]}),"\n"]}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"/img/iap/play_console_create_iap_1.webp",alt:"Play Console Create IAP",style:{borderRadius:"8px"}})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["Enter your product details.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Product ID:"})," A unique ID for your in-app product."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Title:"}),' A short name of the item (up to 55 characters, but we recommend limiting titles to 25 characters to display properly in all contexts), like "Sleeping potion."']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),' A long description of the item (up to 200 characters), like "Instantly puts creatures to sleep."']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Price:"})," Enter a price in your local currency or ",(0,r.jsx)(n.a,{href:"https://support.google.com/googleplay/android-developer/answer/6334373#pricing_template",children:"select a pricing template"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-quantity:"})," For consumable products, you should enable this option to allow users to purchase multiple quantities in a single transaction. Users will be able to purchase in multiple quantities within the threshold of their country or region. Note the following information:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Multi-quantity checkout is not available in some countries or regions."}),"\n",(0,r.jsx)(n.li,{children:"In most countries or regions where multi-quantity checkout is available, the SKU price threshold is around USD 100. To allow multi-quantity checkout, you will need to adjust the price (before tax) to below the threshold in each country or region."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"/img/iap/play_console_create_iap_2.webp",alt:"Play Console Add IAP Details",style:{borderRadius:"8px"}})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["Save your changes and click ",(0,r.jsx)(n.strong,{children:"Activate"})," to make your in-app product available to users."]}),"\n"]}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"/img/iap/play_console_create_iap_3.webp",alt:"Play Console Save and Activate IAP",style:{borderRadius:"8px"}})}),"\n",(0,r.jsx)(n.p,{children:"That's it! \ud83c\udf8a You have successfully created IAP in Google Play Console."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"for IAP to show up in your app, you will need to publish the app once in open/closed testing or production."})}),"\n",(0,r.jsx)(n.h3,{id:"test-purchase-iap",children:"Test Purchase IAP"}),"\n",(0,r.jsxs)(n.p,{children:["To test purchase IAP during development phase, you can leverage the ",(0,r.jsx)(n.strong,{children:"licensed testers"})," feature in Google Play Console."]}),"\n",(0,r.jsx)(n.p,{children:"You can set up a list of Gmail accounts to test your in-app billing and subscription integration. Your own publishing account is always considered a licensed tester."}),"\n",(0,r.jsx)(n.p,{children:"To set up application licensing, start by adding your testers in Play Console."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Open ",(0,r.jsx)(n.a,{href:"https://play.google.com/apps/publish/",children:"Play Console"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Settings > License testing"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Choose your license testers from the email lists shown, or click ",(0,r.jsx)(n.strong,{children:"Create list"})," to make a new list."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Save changes"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Once you're ready, make sure that:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Your app has been published to the open, closed, internal test, or production track. We recommend publishing your app to the internal test track. Make sure that your testers are also eligible to receive your release by following the instructions for ",(0,r.jsx)(n.a,{href:"https://support.google.com/googleplay/android-developer/answer/9845334?sjid=610180390238451424-NC&visit_id=638787613006932010-2295831073&rd=1#closed_beta&zippy=%2Cclosed-test-manage-testers-by-email-address-or-google-groups%2Cclosed-test-manage-testers-by-organization",children:"managing testers by email address"})," or using ",(0,r.jsx)(n.a,{href:"https://support.google.com/googleplay/android-developer/answer/3131213?sjid=610180390238451424-NC#closed_groups",children:"Google Groups"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,r.jsx)(n.h3,{id:"app-store-issues",children:"App Store Issues"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Issue"}),(0,r.jsx)(n.th,{children:"Possible Solution"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"IAP not appearing in app"}),(0,r.jsx)(n.td,{children:'Ensure the IAP is "Ready to Submit" and added to your app in App Store Connect'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Sandbox testing not working"}),(0,r.jsx)(n.td,{children:"Make sure you're using a sandbox tester account and signed out of your regular Apple ID"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"google-play-issues",children:"Google Play Issues"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Issue"}),(0,r.jsx)(n.th,{children:"Possible Solution"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Products not loading"}),(0,r.jsx)(n.td,{children:"Verify the product IDs match exactly between your app/panel and Play Console"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Test purchases not working"}),(0,r.jsx)(n.td,{children:"Ensure your test account is properly set up as a licensed tester"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsx)(n.p,{children:"This documentation was created with reference to the following sources:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://medium.com/@Sergey.Zhuravel/in-app-purchases-in-ios-part-1-creating-purchases-and-adding-to-the-project-b2e9ee300e81",children:"In-App Purchases in iOS (Part 1): Creating purchases and adding to the project"})," by Sergey Zhuravel"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://support.google.com/googleplay/android-developer/answer/1153481?hl=en",children:"Set up in-app purchases - Google Play Console Help"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://support.google.com/googleplay/android-developer/answer/6062777",children:"Test in-app purchases with license testing - Google Play Console Help"})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var t=s(6540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);